{"version":3,"file":"static/js/236.637d130d.chunk.js","mappings":"0LAMA,MAgHA,EAhHuBA,KACnB,MAAOC,EAAOC,IAAYC,EAAAA,EAAAA,UAAS,KAC5BC,EAAiBC,IAAsBF,EAAAA,EAAAA,UAAS,KAChDG,EAAaC,IAAkBJ,EAAAA,EAAAA,UAAS,KACxCK,EAAiBC,IAAsBN,EAAAA,EAAAA,UAAS,KAChDO,EAAMC,IAAWR,EAAAA,EAAAA,UAAS,IAC1BS,EAAOC,IAAYV,EAAAA,EAAAA,UAAS,KAC5BW,EAASC,IAAcZ,EAAAA,EAAAA,UAAS,IA+CvC,OACIa,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACIC,EAAAA,EAAAA,KAACC,EAAAA,EAAM,KACPD,EAAAA,EAAAA,KAAA,OAAKE,UAAU,gBACdR,IAASM,EAAAA,EAAAA,KAAA,KAAGG,MAAO,CAAEC,MAAO,OAAQL,SAAEL,IACtCE,IAAWI,EAAAA,EAAAA,KAAA,KAAGG,MAAO,CAAEC,MAAO,SAAUL,SAAEH,IAEjC,IAATJ,GACGM,EAAAA,EAAAA,MAAA,QAAMO,SArDQC,UACtBC,EAAEC,iBACFb,EAAS,IACTE,EAAW,IACX,WAE2BY,EAAAA,EAAMC,KAAK,GAAGC,EAAAA,oBAA4B,CAAE5B,WACtD6B,KAAKC,OACdpB,EAAQ,GAERE,EAAS,mDAEjB,CAAE,MAAOmB,GACLnB,EAAS,gCACb,GAuC0CI,SAAA,EAC9BD,EAAAA,EAAAA,MAAA,SAAAC,SAAA,CAAO,sBAEHC,EAAAA,EAAAA,KAAA,SACIe,KAAK,QACLC,MAAOjC,EACPkC,SAAWV,GAAMvB,EAASuB,EAAEW,OAAOF,OACnCG,UAAQ,QAGhBnB,EAAAA,EAAAA,KAAA,UAAQe,KAAK,SAAQhB,SAAC,yBAG1BD,EAAAA,EAAAA,MAAA,QAAMO,SAjDiBC,UAI/B,GAHAC,EAAEC,iBACFb,EAAS,IACTE,EAAW,IACPT,IAAgBE,EAKpB,IAO4B,aALDmB,EAAAA,EAAMC,KAAK,GAAGC,EAAAA,qBAA6B,CAC9D5B,QACAG,kBACAE,iBAESgC,OACTvB,EAAW,wCAIXF,EAAS,+FAEjB,CAAE,MAAOmB,GACLnB,EAAS,qCACb,MApBIA,EAAS,mCAoBb,EAwBmDI,SAAA,EACvCD,EAAAA,EAAAA,MAAA,SAAAC,SAAA,CAAO,yBAEHC,EAAAA,EAAAA,KAAA,SACIe,KAAK,WACLC,MAAO9B,EACP+B,SAAWV,GAAMpB,EAAmBoB,EAAEW,OAAOF,OAC7CG,UAAQ,QAGhBrB,EAAAA,EAAAA,MAAA,SAAAC,SAAA,CAAO,wBAEHC,EAAAA,EAAAA,KAAA,SACIe,KAAK,WACLC,MAAO5B,EACP6B,SAAWV,GAAMlB,EAAekB,EAAEW,OAAOF,OACzCG,UAAQ,QAGhBrB,EAAAA,EAAAA,MAAA,SAAAC,SAAA,CAAO,kCAEHC,EAAAA,EAAAA,KAAA,SACIe,KAAK,WACLC,MAAO1B,EACP2B,SAAWV,GAAMhB,EAAmBgB,EAAEW,OAAOF,OAC7CG,UAAQ,QAGhBnB,EAAAA,EAAAA,KAAA,UAAQe,KAAK,SAAQhB,SAAC,8BAG9BC,EAAAA,EAAAA,KAAA,OAAKE,UAAU,iBACfF,EAAAA,EAAAA,KAACqB,EAAAA,EAAM,MACL,C","sources":["components/CambiarContrasena/CambioContrasena.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Header from \"../assets/Header\";\nimport Footer from \"../assets/Footer\";\nimport { BASE_URL } from '../config/config';\n\nconst ChangePassword = () => {\n    const [email, setEmail] = useState('');\n    const [currentPassword, setCurrentPassword] = useState('');\n    const [newPassword, setNewPassword] = useState('');\n    const [confirmPassword, setConfirmPassword] = useState('');\n    const [step, setStep] = useState(1); // 1 = Verificar Correo, 2 = Cambiar Contraseña\n    const [error, setError] = useState('');\n    const [success, setSuccess] = useState('');\n\n    const handleEmailSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        setSuccess('');\n        try {\n            // Llama al servicio para verificar si el correo existe\n            const response = await axios.post(`${BASE_URL}/verificarcorreo`, { email });\n            if (response.data.exists) {\n                setStep(2); // Cambiar a la segunda etapa si el correo existe\n            } else {\n                setError('No se encontró ninguna cuenta con ese correo.');\n            }\n        } catch (err) {\n            setError('Error al verificar el correo.');\n        }\n    };\n\n    const handleChangePasswordSubmit = async (e) => {\n        e.preventDefault();\n        setError('');\n        setSuccess('');\n        if (newPassword !== confirmPassword) {\n            setError('Las contraseñas no coinciden.');\n            return;\n        }\n\n        try {\n            // Llama al servicio para cambiar la contraseña\n            const response = await axios.post(`${BASE_URL}/cambiocontrasena`, {\n                email,\n                currentPassword,\n                newPassword\n            });\n            if (response.status === 200) {\n                setSuccess('Contraseña cambiada con éxito.');\n                // Aquí podrías redirigir o reiniciar el formulario\n\n            } else {\n                setError('Error al cambiar la contraseña. Asegúrate de que la contraseña actual sea correcta.');\n            }\n        } catch (err) {\n            setError('Error al cambiar la contraseña.');\n        }\n    };\n\n    return (\n        <div>\n            <Header />\n            <div className=\"next-module\" />\n            {error && <p style={{ color: 'red' }}>{error}</p>}\n            {success && <p style={{ color: 'green' }}>{success}</p>}\n\n            {step === 1 ? (\n                <form onSubmit={handleEmailSubmit}>\n                    <label>\n                        Ingresa tu correo:\n                        <input\n                            type=\"email\"\n                            value={email}\n                            onChange={(e) => setEmail(e.target.value)}\n                            required\n                        />\n                    </label>\n                    <button type=\"submit\">Verificar Correo</button>\n                </form>\n            ) : (\n                <form onSubmit={handleChangePasswordSubmit}>\n                    <label>\n                        Contraseña actual:\n                        <input\n                            type=\"password\"\n                            value={currentPassword}\n                            onChange={(e) => setCurrentPassword(e.target.value)}\n                            required\n                        />\n                    </label>\n                    <label>\n                        Nueva contraseña:\n                        <input\n                            type=\"password\"\n                            value={newPassword}\n                            onChange={(e) => setNewPassword(e.target.value)}\n                            required\n                        />\n                    </label>\n                    <label>\n                        Confirmar nueva contraseña:\n                        <input\n                            type=\"password\"\n                            value={confirmPassword}\n                            onChange={(e) => setConfirmPassword(e.target.value)}\n                            required\n                        />\n                    </label>\n                    <button type=\"submit\">Cambiar Contraseña</button>\n                </form>\n            )}\n            <div className=\"next-module\" />\n            <Footer />\n        </div>\n    );\n};\n\nexport default ChangePassword;\n"],"names":["ChangePassword","email","setEmail","useState","currentPassword","setCurrentPassword","newPassword","setNewPassword","confirmPassword","setConfirmPassword","step","setStep","error","setError","success","setSuccess","_jsxs","children","_jsx","Header","className","style","color","onSubmit","async","e","preventDefault","axios","post","BASE_URL","data","exists","err","type","value","onChange","target","required","status","Footer"],"sourceRoot":""}