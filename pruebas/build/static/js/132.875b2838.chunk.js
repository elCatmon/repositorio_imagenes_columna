(self.webpackChunkbdmdm=self.webpackChunkbdmdm||[]).push([[132],{5989:(e,t,o)=>{"use strict";o.d(t,{A:()=>d});var n=o(5043),l=o(9596),a=(o(1047),o(579));const i={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"20px",justifyContent:"center",padding:"20px",border:"1px solid #ddd",width:"100%",boxSizing:"border-box"},r={width:"100%",height:"auto",objectFit:"cover"},s={cursor:"pointer",overflow:"hidden",position:"relative",borderRadius:"5px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)",transition:"transform 0.2s"},c={marginBottom:"10px",display:"flex",justifyContent:"center"},u={display:"block",margin:"20px auto",padding:"10px 20px",fontSize:"16px",cursor:"pointer",backgroundColor:"#38b2ac",color:"#ffffff",border:"none",borderRadius:"5px",transition:"background-color 0.3s"},d=e=>{let{onThumbnailClick:t}=e;const[o,d]=(0,n.useState)([]),[p,x]=(0,n.useState)(!1),[h,m]=(0,n.useState)(null),[v,g]=(0,n.useState)(1),[j,b]=(0,n.useState)(!0),[f,C]=(0,n.useState)(""),[w,y]=(0,n.useState)(""),[k,T]=(0,n.useState)(""),S={"02":[{value:"03",label:"Cervical"},{value:"04",label:"Tor\xe1cica"},{value:"05",label:"Lumbar"},{value:"06",label:"Sacra"},{value:"07",label:"Coxis"}],26:[{value:"18",label:"Pelvis Adulto"},{value:"19",label:"Pelvis Infantil"}]},M=(0,n.useCallback)((async e=>{if(!f)return;const t=k||w;try{const o=new URLSearchParams({tipoEstudio:f,...t&&{region:t},page:e,limit:9}).toString(),n=await fetch(`${l.C}/thumbnails?${o}`);if(n.ok){const{images:t,total:o}=await n.json();d(1===e?t:e=>[...e,...t]),b(!(9*e>=o)),x(!0)}else m("Error al obtener las im\xe1genes")}catch(h){m("Error en la solicitud de im\xe1genes: "+h.message)}}),[w,k,f]);(0,n.useEffect)((()=>{d([]),g(1),b(!0),x(!1),M(1)}),[M,f,w,k]);return h?(0,a.jsx)("p",{children:h}):(0,a.jsxs)("div",{className:"thumbnail-gallery-container",style:{marginLeft:"100px",maxWidth:"1200px",margin:"0 auto"},children:[(0,a.jsx)("h1",{className:"text-5xl font-extrabold mb-4 animate-reveal",style:{color:"#666666",marginTop:"20px",fontWeight:"900",fontFamily:"Poppins",textAlign:"center"},children:"Estudios m\xe9dicos"}),(0,a.jsxs)("div",{className:"filters",style:c,children:[(0,a.jsxs)("label",{children:["Tipo de Estudio:",(0,a.jsxs)("select",{value:f,onChange:e=>C(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"Seleccione"}),(0,a.jsx)("option",{value:"01",children:"Radiograf\xeda"}),(0,a.jsx)("option",{value:"02",children:"Tomograf\xeda Computarizada"}),(0,a.jsx)("option",{value:"03",children:"Resonancia Magn\xe9tica"}),(0,a.jsx)("option",{value:"04",children:"Ultrasonido"}),(0,a.jsx)("option",{value:"05",children:"Mamograf\xeda"}),(0,a.jsx)("option",{value:"06",children:"Angiograf\xeda"}),(0,a.jsx)("option",{value:"07",children:"Medicina Nuclear"}),(0,a.jsx)("option",{value:"08",children:"Medio de contraste"}),(0,a.jsx)("option",{value:"09",children:"Fluoroscopia"})]})]}),(0,a.jsxs)("label",{children:["Regi\xf3n:",(0,a.jsxs)("select",{value:w,onChange:e=>{y(e.target.value),T("")},children:[(0,a.jsx)("option",{value:"",children:"Seleccione"}),(0,a.jsx)("option",{value:"00",children:"Desconocido"}),(0,a.jsx)("option",{value:"02",children:"Columna Vertebral"}),(0,a.jsx)("option",{value:"26",children:"Pelvis"})]})]}),w&&S[w]&&(0,a.jsxs)("label",{children:["Subregi\xf3n:",(0,a.jsxs)("select",{value:k,onChange:e=>{T(e.target.value)},children:[(0,a.jsx)("option",{value:"",children:"Seleccione"}),S[w].map((e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})]}),(0,a.jsxs)("div",{className:"thumbnail-gallery",style:{marginTop:"20px"},children:[p?o.length>0?(0,a.jsx)("div",{style:i,children:o.map(((e,o)=>(0,a.jsx)("div",{style:s,onClick:()=>t(e),onContextMenu:e=>e.preventDefault(),children:(0,a.jsx)("img",{src:e,alt:`Thumbnail ${o}`,style:r,onError:e=>{e.currentTarget.src="https://via.placeholder.com/150"}})},o)))}):(0,a.jsx)("p",{children:"No hay im\xe1genes disponibles."}):(0,a.jsx)("p",{children:"Seleccione el tipo de estudio..."}),j&&(0,a.jsx)("button",{onClick:()=>{if(j){const e=v+1;g(e),M(e)}},style:u,children:"Cargar m\xe1s"})]})]})}},5487:(e,t,o)=>{"use strict";o.d(t,{A:()=>h});var n=o(5043),l=o(1825),a=o.n(l),i=o(5060),r=o.n(i),s=o(9492),c=o.n(s),u=o(5872),d=o.n(u),p=o(9596),x=o(579);d().external.cornerstone=a(),d().external.dicomParser=c();const h=e=>{let{fileName:t}=e;const[o,l]=(0,n.useState)(!1),[s,c]=(0,n.useState)(null),u=(0,n.useRef)(null);(0,n.useEffect)((()=>{const e=u.current;if(e&&t){const o=`wadouri:${p.C}/image/${t}`;return(async()=>{l(!0),c(null);try{a().enable(e),r().addTool(i.ZoomTool),r().addTool(i.PanTool),r().addTool(i.LengthTool),r().addTool(i.RotateTool),r().setToolActive("Zoom",{mouseButtonMask:1}),r().setToolActive("Pan",{mouseButtonMask:1}),r().setToolActive("Length",{mouseButtonMask:1}),r().setToolActive("Rotate",{mouseButtonMask:1});const t=await a().loadImage(o);a().displayImage(e,t),r().setToolActive("Zoom",{mouseButtonMask:1})}catch(s){c("Error al cargar la imagen DICOM.")}finally{l(!1)}})(),()=>{e&&a().disable(e)}}}),[t]);return(0,x.jsxs)("div",{className:"dicom-viewer-container",children:[(0,x.jsxs)("div",{onContextMenu:e=>e.preventDefault(),ref:u,className:"dicom-viewer",style:{width:"100%",height:"100%"},children:[o&&(0,x.jsx)("p",{children:"Cargando imagen DICOM..."}),s&&(0,x.jsx)("p",{style:{color:"red"},children:s})]}),(0,x.jsxs)("div",{className:"tool-buttons",style:{marginTop:"10px",display:"flex",justifyContent:"center",gap:"10px"},children:[(0,x.jsx)("button",{onClick:()=>{const e=a().getViewport(u.current);e.scale*=1.2,a().setViewport(u.current,e)},children:"Zoom +"}),(0,x.jsx)("button",{onClick:()=>{const e=a().getViewport(u.current);e.scale/=1.2,a().setViewport(u.current,e)},children:"Zoom -"}),(0,x.jsx)("button",{onClick:()=>{const e=a().getViewport(u.current);e.translation.y+=20,a().setViewport(u.current,e)},children:"Mover \u2191"}),(0,x.jsx)("button",{onClick:()=>{const e=a().getViewport(u.current);e.rotation-=.75,a().setViewport(u.current,e)},children:"Rotar \u2190"}),(0,x.jsx)("button",{onClick:()=>{const e=a().getViewport(u.current);e.rotation+=.75,a().setViewport(u.current,e)},children:"Rotar \u2192"}),(0,x.jsx)("button",{onClick:()=>{const e=a().getViewport(u.current);e.translation.x+=20,a().setViewport(u.current,e)},children:"Mover \u2190"}),(0,x.jsx)("button",{onClick:()=>{const e=a().getViewport(u.current);e.translation.y-=20,a().setViewport(u.current,e)},children:"Mover \u2193"}),(0,x.jsx)("button",{onClick:()=>{const e=a().getViewport(u.current);e.translation.x-=10,a().setViewport(u.current,e)},children:"Mover \u2192"})]})]})}},9598:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>d});var n=o(5043),l=o(5989),a=o(5487),i=o(3216),r=o(2297),s=o(6351),c=(o(1047),o(9613)),u=o(579);const d=function(){const[e,t]=(0,n.useState)(null),o=(0,i.Zp)(),{isAuthenticated:d}=(0,c.A)();return(0,n.useEffect)((()=>{d||o("/login")}),[d,o]),(0,u.jsxs)("div",{className:"visualizer-page",children:[(0,u.jsx)(r.A,{}),(0,u.jsx)("div",{className:"next-module"}),(0,u.jsxs)("div",{className:"content",children:[(0,u.jsx)("div",{className:"thumbnail-gallery",children:(0,u.jsx)(l.A,{onThumbnailClick:e=>{const o=e.split("/").pop().replace(".jpg",".dcm");t(o)}})}),(0,u.jsx)("div",{className:"dicom-viewer",children:e?(0,u.jsx)(a.A,{fileName:e}):(0,u.jsx)("p",{children:"Selecciona una miniatura para ver la imagen DICOM."})})]}),(0,u.jsx)("div",{className:"next-module"}),(0,u.jsx)(s.A,{})]})}},6559:()=>{}}]);
//# sourceMappingURL=132.875b2838.chunk.js.map